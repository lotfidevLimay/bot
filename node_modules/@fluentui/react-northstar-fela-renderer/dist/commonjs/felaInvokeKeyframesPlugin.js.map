{"version":3,"sources":["felaInvokeKeyframesPlugin.ts"],"names":["felaInvokeKeyframesPlugin","styles","Object","keys","reduce","acc","cssPropertyName","cssPropertyValue","animationDefinition","keyframe","params"],"mappings":";;;;;;;;;AAAA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAMA,yBAAyB,GAAG,SAA5BA,yBAA4B,CAACC,MAAD,EAA0C;AACjF,SAAOC,MAAM,CAACC,IAAP,CAAYF,MAAZ,EAAoBG,MAApB,CAA2B,UAACC,GAAD,EAAqBC,eAArB,EAA8D;AAC9F,QAAMC,gBAAgB,GAAGN,MAAM,CAACK,eAAD,CAA/B;;AAEA,QAAI,6BAAgBC,gBAAhB,CAAJ,EAAuC;AACrC,UAAID,eAAe,KAAK,eAAxB,EAAyC;AACvC,YAAME,mBAAmB,GAAGD,gBAA5B;;AAEA,YAAIC,mBAAmB,CAACC,QAAxB,EAAkC;AAChCR,UAAAA,MAAM,CAACK,eAAD,CAAN,GAA0B,sBAASE,mBAAmB,CAACC,QAA7B,EAAuCD,mBAAmB,CAACE,MAApB,IAA8B,EAArE,CAA1B;AACD;;AAEDL,QAAAA,GAAG,CAACC,eAAD,CAAH,GAAuBL,MAAM,CAACK,eAAD,CAA7B;AACA,eAAOD,GAAP;AACD,OAVoC,CAYrC;;;AACCA,MAAAA,GAAD,CAAaC,eAAb,IAAgCN,yBAAyB,CAACO,gBAAD,CAAzD;AACA,aAAOF,GAAP;AACD;;AAEAA,IAAAA,GAAD,CAAaC,eAAb,IAAgCL,MAAM,CAACK,eAAD,CAAtC;AACA,WAAOD,GAAP;AACD,GAtBM,EAsBJ,EAtBI,CAAP;AAuBD,CAxBM","sourcesContent":["import { AnimationKeyFrame, callable, ICSSInJSStyle } from '@fluentui/styles';\nimport * as _ from 'lodash';\n\n/**\n * Fela plugin for invoking keyframes with params. The keyframes, defined in the animationName prop,\n * are called with the params object, if defined in the animationName prop.\n *\n * Caution! Infinite recursion is possible in case if style object has links to self in the props\n * tree.\n */\nexport const felaInvokeKeyframesPlugin = (styles: ICSSInJSStyle): ICSSInJSStyle => {\n  return Object.keys(styles).reduce((acc: ICSSInJSStyle, cssPropertyName: keyof ICSSInJSStyle) => {\n    const cssPropertyValue = styles[cssPropertyName];\n\n    if (_.isPlainObject(cssPropertyValue)) {\n      if (cssPropertyName === 'animationName') {\n        const animationDefinition = cssPropertyValue as AnimationKeyFrame;\n\n        if (animationDefinition.keyframe) {\n          styles[cssPropertyName] = callable(animationDefinition.keyframe)(animationDefinition.params || {});\n        }\n\n        acc[cssPropertyName] = styles[cssPropertyName];\n        return acc;\n      }\n\n      // Without casting to any TSC gives \"Expression produces a union type that is too complex to represent\" error\n      (acc as any)[cssPropertyName] = felaInvokeKeyframesPlugin(cssPropertyValue as ICSSInJSStyle);\n      return acc;\n    }\n\n    (acc as any)[cssPropertyName] = styles[cssPropertyName];\n    return acc;\n  }, {});\n};\n"],"file":"felaInvokeKeyframesPlugin.js"}